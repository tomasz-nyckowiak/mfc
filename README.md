* REGISTRATION & LOGIN
-Rejestracja. Nie użyłem captchy przy rejestracji, gdyż uznałem, że nie jest tu potrzebna - nie ma żadnych wrażliwych danych. Zarówno email jak i strona internetowa nie muszą być nawet prawdziwe, aby można było się zarejestrować.

-Login. Opcja "zapamiętaj mnie" mi z jakiegoś powodu nie działała. Męczyłem się z nią kilka dni i ostatecznie się poddałem...:/

* API
-Używam tego API -> https://rapidapi.com/SAdrian/api/moviesdatabase/. Jest całkiem niezłe, ale wiele opcji albo wciąż nie działa poprawnie, albo wymagany parametr wyszukiwania jest zbyt... szczegółowy? Przykładowo - aktorzy i recenzje. Na początku chciałem mieć możliwość wyszukiwania aktorów w wyszukiwarce, ale z tymi API jest to dość skomplikowane. Nawet wysłałem pytanie do twórcy tego API w tej kwestii, ale nie dostałem odpowiedzi. W skrócie: każdy aktor (jak i tytuł) ma swój 'id'. Szkopuł w tym, żeby dostać te 'id'. A możemy je dostać tylko poprzez wyszukanie danego tytułu filmu/serialu/etc. z parametrem 'extendedCast'. Tylko że to nie załatwia sprawy. Bo zwykle jest tak, że jeśli użytkownik chce wyszukać danego aktora/-rkę, to wpisze w wyszukiwarce jego/jej imię np. "Tom Cruise", a nie tytuł filmu, w którym on wystąpił. A np. ten endpoint -> "/titles/{id}/main_actors" w ogóle nie działa (nie zwraca żadnego wyniku). Recenzje też nie działają. Więc ostatecznie skończyło się tylko na (ograniczonym) wyszukiwaniu tytułów.

-Samo wyszukiwanie tytułów się zmieniło. Wcześniej było tak, że jeśli się zostawiło 'titleType' pusty, to wyszukiwał wszystkie typy. Teraz  wyszukuje wszystkie oprócz 'movie' i 'tvSeries', chyba że się konkretnie zaznaczy, że to mają być filmy lub seriale. Nie wiem, czemu ta zmiana ma służyć, ale nic na to nie poradzę. Przez to musiałem "rozbudować" mój kontroler (ApiController.php), ponieważ skoro chciałem mieć w wynikach wyszukiwania najpierw te popularne (parametr 'meterRanking'), a potem całą resztę, to (niestety) musiałem zwiększyć liczbę reqestów co (z tego co się orientuję) nigdy nie jest zalecane. Aha, wyszukiwanie tytułów z parametrem 'meterRanking' także nie działa. To API wymaga wielu poprawek... Ale ponieważ to je wybrałem, więc nie chciałem go zmieniać na tym poziomie zaawansowania aplikacji... Może to błąd z mojej strony, ale tak już mam ;P  

-W wyszukiwarce tytułów zadziały się dziwne rzeczy (plik _search_form.html.twig). Chciałem mieć przycisk "czyszczący formularz". Z powodu wciąż dla mnie niezrozumiałych musiałem zrobić to w ten sposób jak obecnie: input ma atrybut 'oninput' a sam przycisk atrybut 'onclick' i w obu przypadkach kod javascriptowy jest tam zawarty. Gdy przeniosłem ten kod do osobnego pliku .js a w kodzie miałem - oninput="myFunction()", to podczas testów w konsoli wyświetlał mi błąd 'uncaught referenceerror; myFunction is not defined". Więc jakiś cudem nie widział tej funkcji (mimo że plik był dołączony prawidłowo). Próbowałem dodać ten kod javascriptowy do footera w 'głównym' pliku -> search.html.twig. To samo. Najpierw sądziłem, że to wina tego, że jest to tzw. 'partial file' w Symfony (z '_' przed nazwą pliku). Sęk w tym, że chociażby w 'library' przy "pokaż/ukryj" reviews mam podobnie - i tam wszystko działa. Może winowajcą jest drugi plik -> scrollBackToTop.js, który mam tam dołączony, ale nie widzę czemu miałby "kolidować" z formularzem. W każdym razie kod działa, ale nie podoba mi się, że musiałem zrobić to w taki sposób.

* FAVOURITES (TOP 10 Movies & TOP 5 TV Series)
-Przy tych formularzach nie użyłem "gotowców" (form) z Symfony (jak np. przy rejestracji), ponieważ miałem ogromne kłopoty z poprawną walidacją inputów. 

-Na początku chciałem zrobić tak: jeśli użytkownik wybrał film "A" na miejscu 2. to nie mógłby go już wybrać na innych pozycjach. Byłoby to jak najbardziej do zrobienia, ale ostatecznie uznałem, że nie warto. Muszę jedynie sprawdzić, czy wybrany tytuł się nie powtarza. Poza tym przy setce filmów w bibliotece i tak nie dałoby się zauważyć różnicy jeśli by już wybrany film "znikał" z innych list.

-Męczyłem się z tą logiką strasznie, ale po wielu próbach ostatecznie wpadłem na taki oto pomysł (sprawdzenie czy dany tytuł się nie powtarza [favouriteMain.js]):
1) po wyborze przez użytkownika tytułu zapisuję wszystkie inputy do tablicy "A"
2) usuwam ostatni element tablicy "A", jednocześnie tworząc nową, krótszą tablicę "B"
3) sprawdzam czy usunięty element już istnieje w tabilicy "B", jeśli tak to zapisuję ten element w nowej tablicy "C" 
4) tworzę nową tablicę "D" z powtarzającymi się tytułami z tablicy "C" - ponieważ dany tytuł może się powtarzać wiele razy, więc musimy usunąć powtarzające się elementy z "D". W ten sposób tablica "D" zawiera powtarzające się elementy (w tym momencie dany tytuł może się powtarzać np. 4 razy, ale tu będzie widniał tylko raz)
5) jeżeli wielkość tablicy "D" > 0 to oznacza, że istnieją powtarzające się elementy - pokazuje się błąd
Wszystko wydaje się działać poprawnie, ale oczywiście może coś przeoczyłem... Lub pewnie można to zrobić też lepiej/wydajniej.

-Udało mi się zrefaktoryzować dość znacznie pliki js - teraz większość jest w jednym pliku, bo wiele funkcji się powtarzało (wcześniej miałem to rozbite na 4 pliki - create i edit dla filmów i seriali). Ale warunek jest taki, że nazwy 'id' dla list (select) muszą być tej samej długości - więc w sumie nie wiem, czy dobrze zrobiłem, czy jednak należało zostawić wersję z wieloma plikami... 

-Musiałem użyć metody include() w js [funkcja "markingDuplicatedTitles" w favouriteMain.js] (która "(...) is not supported in internet Explorer or Edge 13 (or earlier)"), bo inaczej mi nie działało. Chciałem ją jakoś obejść, próbowałem różnych metod, ale nic innego nie chciało mi działać poprawnie.

-Ponieważ w tops mogą być tylko tytuły, które użytkownik już ma dodane w swojej bibliotece, to z początku chciałem to zrobić jako podstronę do library, ale ostatecznie zrobiłem osobno (controller and stuff), chociażby z tego powodu, aby nie trzeba było wchodzić do library, żeby zobaczyć swoje top listy.

-Co do stylizacji list select w Tailwind CSS, to nie chciałem mieć default-owej, ale z tego, co wyszukałem w necie to: "(...) you cannot style the select options with CSS. What you can do is create your own select component (...)" i "(...) there is no accessible options container (wrapper) element in the Dom in order to change it's style (...)". Może to błąd z mojej strony, ale nie zamierzam tworzyć własnego komponentu select tylko po to, aby mieć inny wygląd list, więc zostawiłem tę "szarą"/neutralną - defaultową. Poza tym nie wygląda to tak źle...

* PROFILE
-W SettingsProfileController.php zapamiętuję username oraz website, ponieważ w profilu najpierw wyświetlają się dane użytkownika, a potem formularze w accordion. Ma to znaczenie, gdyż przy błędzie walidacji nazwy użytkownika wyświetliłaby mi się ta błędna nazwa użytkownika. Sądzę, że "winowajcą" jest ta linijka kontrolerze: $form1 = $this->createForm(UserProfileType::class, $userProfile). Robiąc to w ten sposób, nawet gdy mamy błąd walidacji, to wyświetlane dane użytkownika w profilu są zapamiętane (prawidłowe).

-Ciekawostka - _accordion_settings.html.twig jest tak "rozdmuchany" z jednego tylko powodu - ponieważ przy błędzie walidacji chciałem mieć czerwoną ramkę wokół konkretnego/ych inputu/ów. Przykład: mam dwa inputy (zmiana hasła). Jeżeli hasła nie są takie same, to wyskakuje błąd, ale gdybym nie zrobił w ten sposób, to miałbym czerwoną ramkę tylko wokół pierwszego inputu. Niby trywialna sprawa, ale się uparłem.

-Nie sprawdzam czy wpisana strona www jest prawidłowa, ponieważ walidacja w symfony ('constraints' w UserProfileType.php) nie działa tak jak oczekiwałem, tzn. jeżeli ją dodałem, to przyjmowała jedynie cały URL (https://mvcbudget.tomasznyckowiak.pl), ale gdy zmieniłem na www.mvcbudget.tomasznyckowiak.pl, to mi tego nie przepuszczała. Niby tam są opcje do tego i je wypróbowałem, ale nic to nie dało. Ostatecznie mógłbym zostawić tę walidację, ale zazwyczaj gdy użytkownik podaje swoją stronę, to podaje ją jako www a nie z protokołami http/https... W każdym razie skończyło się na tym, że nie ma walidacji tego inputu (w sumie nie ma on wielkiego znaczenia w tej apce).

* Flash Messages
-W kodzie mam kilka plików do wyświetlania flash messages (normalnie miałbym do nich jeden block w 'base.html.twig' i z niego korzystał), ponieważ jest kilka różnic w tym, co wyświetlam. Przykładowo w bibliotece po zmianie danych flash message jest wyświetlany w innym miejscu i o innej treści (bo zawiera tytuł zmienionego itemu), etc. Próbowałem z nimi kombinować, ale ostatecznie zostawiłem tak jak jest. 
